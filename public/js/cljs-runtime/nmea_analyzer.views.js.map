{"version":3,"sources":["nmea_analyzer/views.cljs"],"mappings":"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","names":["nmea-analyzer.views/connection-status","cljs.core/deref","status","re_frame.core.subscribe","error","G__12861","cljs.core/Keyword","nmea-analyzer.views/connection-form","p1__12862#","p1__12863#","host","port","connected?","re-frame.core/dispatch","js/parseInt","p__12864","map__12865","cljs.core/--destructure-map","cljs.core.get","nmea-analyzer.views/nmea-frame","timestamp","pgn","data","frame","js/Date","nmea-analyzer.views/frames-display","frames","cljs.core/empty?","iter__5503__auto__","s__12867","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5501__auto__","size__5502__auto__","cljs.core/count","b__12869","cljs.core/chunk-buffer","i__12868","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12866","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core.take","cljs.core/reverse","nmea-analyzer.views/position-display","position","nmea-analyzer.views/wind-display","wind","nmea-analyzer.views/depth-display","depth","nmea-analyzer.views/nmea-data-display","nmea-data","s__12871","b__12873","i__12872","map__12874","iter__12870","map__12875","type","raw","talker-id","sentence","cljs.core/take-last","cljs.core.get_in","nmea-analyzer.nmea-parser/nmea-sentence-types","cljs.core.dissoc","nmea-analyzer.views/main-panel","cljs.core/chunk-first"],"sourcesContent":[";; src/nmea_analyzer/views.cljs\n(ns nmea-analyzer.views\n  (:require [re-frame.core :as rf]\n            [nmea-analyzer.nmea-parser :refer [nmea-sentence-types]]))\n\n(defn connection-status []\n  (let [status @(rf/subscribe [:connection-field :status])\n        error @(rf/subscribe [:connection-error])]\n    [:div.connection-status\n     (case status\n       :connecting [:div.status.connecting \"Connecting...\"]\n       :connected [:div.status.connected \"Connected\"]\n       :error [:div.status.error \n               [:span \"Connection Error: \"]\n               [:span.error-message (str error)]]\n       [:div.status.disconnected \"Disconnected\"])]))\n\n(defn connection-form []\n  (let [host @(rf/subscribe [:connection-field :host])\n        port @(rf/subscribe [:connection-field :port])\n        connected? @(rf/subscribe [:connected?])]\n    [:div.connection-form\n     [:h3 \"NMEA Connection\"]\n     [:div.form-group\n      [:label \"Host:\"]\n      [:input {:type \"text\"\n               :value host\n               :disabled connected?\n               :on-change #(rf/dispatch [:update-connection-field :host \n                                       (.. % -target -value)])}]]\n     [:div.form-group\n      [:label \"Port:\"]\n      [:input {:type \"number\"\n               :value port\n               :disabled connected?\n               :min 1\n               :max 65535\n               :on-change #(rf/dispatch [:update-connection-field :port \n                                       (js/parseInt (.. % -target -value))])}]]\n     (if connected?\n       [:button.disconnect\n        {:on-click #(rf/dispatch [:disconnect-nmea])}\n        \"Disconnect\"]\n       [:button.connect\n        {:on-click #(rf/dispatch [:connect-nmea])}\n        \"Connect\"])\n     [connection-status]]))\n\n(defn nmea-frame [{:keys [timestamp pgn data] :as frame}]\n  [:div.nmea-frame\n   [:div.frame-header\n    [:span.timestamp (-> timestamp js/Date. .toISOString)]\n    [:span.pgn (str \"PGN: \" pgn)]]\n   [:div.frame-data\n    [:pre (str data)]]])\n\n(defn frames-display []\n  (let [frames @(rf/subscribe [:nmea-frames])]\n    [:div.frames-container\n     [:h3 \"NMEA Frames\"]\n     (if (or (nil? frames) (empty? frames))\n       [:div.no-frames \"No frames received\"]\n       [:div.frames-list\n        (for [frame (take 100 (reverse frames))]\n          ^{:key (:timestamp frame)}\n          [nmea-frame frame])])]))\n\n(defn position-display []\n  (when-let [position @(rf/subscribe [:latest-position])]\n    [:div.position\n     [:h3 \"Position\"]\n     [:div\n      [:div (str \"Lat: \" (:latitude position) \"\u00b0\")]\n      [:div (str \"Lon: \" (:longitude position) \"\u00b0\")]]]))\n\n(defn wind-display []\n  (when-let [wind @(rf/subscribe [:latest-wind])]\n    [:div.wind\n     [:h3 \"Wind\"]\n     [:div\n      [:div (str \"Angle: \" (:angle wind) \"\u00b0\")]\n      [:div (str \"Speed: \" (:speed wind) \" \" (:speed-units wind))]]]))\n\n(defn depth-display []\n  (when-let [depth @(rf/subscribe [:latest-depth])]\n    [:div.depth\n     [:h3 \"Depth\"]\n     [:div\n      [:div (str \"Depth: \" (:depth-meters depth) \"m\")]\n      (when (:depth-feet depth)\n        [:div (str \"(\" (:depth-feet depth) \"ft)\")])]]))\n\n(defn nmea-data-display []\n  (let [nmea-data @(rf/subscribe [:nmea-data])]\n    [:div.nmea-data {:style {:margin-top \"20px\"\n                             :padding \"15px\"\n                             :border \"1px solid #ddd\"\n                             :border-radius \"5px\"\n                             :background-color \"#f9f9f9\"}}\n     [:h3 {:style {:margin \"0 0 15px 0\"\n                   :color \"#333\"\n                   :border-bottom \"2px solid #007bff\"\n                   :padding-bottom \"8px\"}}\n      \"NMEA Data\"]\n     (if (empty? nmea-data)\n       [:div {:style {:padding \"20px\"\n                      :text-align \"center\"\n                      :color \"#666\"\n                      :font-style \"italic\"}}\n        \"No NMEA data received yet\"]\n       [:div.frames-list {:style {:max-height \"400px\"\n                                  :overflow-y \"auto\"}}\n        (for [{:keys [type timestamp raw talker-id] :as sentence} (take-last 10 nmea-data)]\n          ^{:key (str timestamp \"-\" type \"-\" talker-id)}\n          [:div.nmea-sentence {:style {:margin \"10px 0\"\n                                       :padding \"10px\"\n                                       :border \"1px solid #e0e0e0\"\n                                       :border-radius \"4px\"\n                                       :background-color \"#fff\"\n                                       :box-shadow \"0 1px 3px rgba(0,0,0,0.1)\"}}\n           [:div.sentence-type {:style {:font-weight \"bold\"\n                                        :color \"#007bff\"\n                                        :margin-bottom \"5px\"\n                                        :display \"flex\"\n                                        :justify-content \"space-between\"}}\n            [:span (get-in nmea-sentence-types [type :name] \"Unknown\")]\n            [:span.talker-id {:style {:color \"#666\"\n                                      :font-size \"0.9em\"}}\n             (str \"(\" talker-id \")\")]]\n           [:div.raw-data {:style {:font-family \"monospace\"\n                                   :font-size \"0.9em\"\n                                   :padding \"5px\"\n                                   :background-color \"#f5f5f5\"\n                                   :border-radius \"3px\"\n                                   :margin \"5px 0\"\n                                   :word-break \"break-all\"}}\n            raw]\n           [:pre.parsed-data {:style {:font-family \"monospace\"\n                                      :font-size \"0.9em\"\n                                      :padding \"8px\"\n                                      :background-color \"#f8f9fa\"\n                                      :border-radius \"3px\"\n                                      :margin \"5px 0\"\n                                      :overflow-x \"auto\"\n                                      :white-space \"pre-wrap\"\n                                      :color \"#333\"}}\n            (str (dissoc sentence :raw))]])])]))\n\n(defn main-panel []\n  [:div.container\n   [:h1 \"NMEA Analyzer\"]\n   [connection-form]\n   [:div.data-displays\n    [position-display]\n    [wind-display]\n    [depth-display]]\n   [nmea-data-display]])\n\n\n\n;(defn main-panel []\n;  [:div.container\n;   [:h1 \"NMEA Analyzer\"]\n;   [connection-form]\n;   [frames-display]])\n"]}